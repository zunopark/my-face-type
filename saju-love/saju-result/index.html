<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="AI 연애 사주 분석 결과 | 당신의 연애운을 확인하세요"
    />
    <meta name="author" content="관상가 양반 | Nmax" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="AI 연애 사주 분석 결과" />
    <link rel="stylesheet" href="styles/style.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=favorite"
    />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=East+Sea+Dokdo&display=swap");
      @import url("https://fonts.googleapis.com/css2?family=Yeon+Sung&display=swap");
      @font-face {
        font-family: "KimjungchulMyungjo-Bold";
        src: url("https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/KimjungchulMyungjo-Bold.woff2")
          format("woff2");
        font-style: normal;
      }
    </style>

    <title>연애 사주 분석 결과 | AI 사주</title>

    <link
      rel="shortcut icon"
      href="https://keen-poitras-075b07.netlify.app/favicon.ico"
      type="image/x-icon"
    />

    <!-- 믹스패널 -->
    <script type="text/javascript">
      (function (f, b) {
        if (!b.__SV) {
          var e, g, i, h;
          window.mixpanel = b;
          b._i = [];
          b.init = function (e, f, c) {
            function g(a, d) {
              var b = d.split(".");
              2 == b.length && ((a = a[b[0]]), (d = b[1]));
              a[d] = function () {
                a.push([d].concat(Array.prototype.slice.call(arguments, 0)));
              };
            }
            var a = b;
            "undefined" !== typeof c ? (a = b[c] = []) : (c = "mixpanel");
            a.people = a.people || [];
            a.toString = function (a) {
              var d = "mixpanel";
              "mixpanel" !== c && (d += "." + c);
              a || (d += " (stub)");
              return d;
            };
            a.people.toString = function () {
              return a.toString(1) + ".people (stub)";
            };
            i =
              "disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(
                " "
              );
            for (h = 0; h < i.length; h++) g(a, i[h]);
            var j = "set set_once union unset remove delete".split(" ");
            a.get_group = function () {
              function b(c) {
                d[c] = function () {
                  call2_args = arguments;
                  call2 = [c].concat(Array.prototype.slice.call(call2_args, 0));
                  a.push([e, call2]);
                };
              }
              for (
                var d = {},
                  e = ["get_group"].concat(
                    Array.prototype.slice.call(arguments, 0)
                  ),
                  c = 0;
                c < j.length;
                c++
              )
                b(j[c]);
              return d;
            };
            b._i.push([e, f, c]);
          };
          b.__SV = 1.2;
          e = f.createElement("script");
          e.type = "text/javascript";
          e.async = !0;
          e.src =
            "undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL
              ? MIXPANEL_CUSTOM_LIB_URL
              : "file:" === f.location.protocol &&
                "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)
              ? "https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"
              : "//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";
          g = f.getElementsByTagName("script")[0];
          g.parentNode.insertBefore(e, g);
        }
      })(document, window.mixpanel || []);
    </script>
  </head>
  <body>
    <div class="main_body_wrap">
      <!-- 로딩 상태 -->
      <div class="loading_wrap" id="loadingWrap">
        <div class="loading_spinner"></div>
        <div class="loading_text" id="loadingText">
          분석 결과를 불러오는 중...
        </div>
      </div>

      <!-- 에러 상태 -->
      <div class="error_wrap hidden" id="errorWrap">
        <span class="material-icons error_icon">error_outline</span>
        <div class="error_text">결과를 불러올 수 없습니다</div>
        <button class="error_btn" onclick="location.reload()">다시 분석 시작하기</button>
      </div>

      <!-- 결과 컨텐츠 -->
      <div class="result_wrap hidden" id="resultWrap">
        <!-- 상단 고정 헤더: 라벨 + 프로그레스 바 -->
        <div class="top_fixed_header">
          <div class="top_label" id="topLabel">연애 리포트</div>
          <div class="chapter_progress">
            <div class="chapter_progress_fill" id="progressFill"></div>
          </div>
        </div>

        <!-- 하단 고정 네비게이션 -->
        <div class="chapter_nav">
          <button class="nav_arrow prev" id="prevChapter">
            <span class="material-icons">chevron_left</span>
          </button>
          <div class="chapter_indicator">
            <span class="current_chapter" id="currentChapter">1</span>
            <span class="separator">/</span>
            <span class="total_chapters" id="totalChapters">1</span>
          </div>
          <button class="nav_arrow next" id="nextChapter">
            <span class="material-icons">chevron_right</span>
          </button>
        </div>

        <!-- 챕터 슬라이드 컨테이너 -->
        <div class="chapters_container" id="chaptersContainer">
          <!-- 챕터들이 동적으로 생성됨 -->
        </div>
      </div>
    </div>

    <script>
      // 고유 사용자 ID를 localStorage에서 불러오거나 새로 생성
      function safeUUID() {
        if (crypto.randomUUID) return crypto.randomUUID();
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>
          (
            c ^
            (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))
          ).toString(16)
        );
      }

      let distinctId = localStorage.getItem("mixpanel_distinct_id");
      if (!distinctId) {
        distinctId = safeUUID();
        localStorage.setItem("mixpanel_distinct_id", distinctId);
      }

      mixpanel.init("d7d8d6afc10a92f911ea59901164605b", {
        debug: true,
        autotrack: true,
        persistence: "localStorage",
      });

      mixpanel.identify(distinctId);
    </script>
    <script src="js/main.js"></script>
  </body>
</html>
